<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>{{ 'MOOD_TRACKING_SETTINGS.PAGE_TITLE' | translate }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="false" class="with-bottom-padding">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">{{ 'MOOD_TRACKING_SETTINGS.PAGE_TITLE' | translate }}</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-list>
    <ion-item *ngFor="let item of moodItems">
      <ion-label>
        <h2>{{ item.name }}</h2>
      </ion-label>

      <div class="button-row">
        <!-- Toggle active/inactive -->
        <app-button
          [label]="item.active ? ('MOOD_TRACKING_SETTINGS.ACTIVE' | translate) : ('MOOD_TRACKING_SETTINGS.INACTIVE' | translate)"
          [color]="item.active ? 'green' : 'default'"
          size="small"
          (clicked)="toggleItem(item)"
        ></app-button>

        <!-- Edit button -->
        <app-button
          size="iconWithText"
          color="default"
          icon="create"
          [label]="'MOOD_TRACKING_SETTINGS.EDIT' | translate"
          (clicked)="editItem(item)"
        ></app-button>

        <!-- Delete button -->
        <app-button
          *ngIf="!item.isDefault"
          size="icon"
          color="red"
          icon="trash"
          (clicked)="removeItem(item)"
        ></app-button>
      </div>
    </ion-item>
  </ion-list>



  <!-- Reusable Popup -->
  <app-custom-text-popup
    #addPopup
    [heading]="'MOOD_TRACKING_SETTINGS.POPUP.HEADING' | translate"
    [placeholder]="'MOOD_TRACKING_SETTINGS.POPUP.PLACEHOLDER' | translate"
    [saveLabel]="'MOOD_TRACKING_SETTINGS.POPUP.SAVE' | translate"
    [cancelLabel]="'MOOD_TRACKING_SETTINGS.POPUP.CANCEL' | translate"
    (saved)="handleAddItem($event)"
  ></app-custom-text-popup>
</ion-content> 
 <!-- Add button -->
  <app-button
    class="add-button-fixed"
    size="wide"
    color="green"
    icon="add"
    [label]="'MOOD_TRACKING_SETTINGS.ADD_BUTTON' | translate"
    (clicked)="openAddPopup()"
    style="width: 100%; margin-left: 10%; position: absolute; bottom: 10px;"
  ></app-button>